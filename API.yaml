openapi: 3.0.0
info:
  title: Swagger Garden reviewer
  contact:
    email: tamanit.dev@yandex.ru
  version: 1.0.0
servers:
  - url: https://bot-reviewer.ru/api/v1
tags:
  - name: review
    description: Everything about Review
  - name: Auth
    description: get token
paths:
  /reviews:
    post:
      security:
        - SanctumBearer: []
      tags:
        - review
      summary: Add a new reivew
      description: Add a new reivew
      requestBody:
        description: Create a new reivew
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Review'
          application/xml:
            schema:
              $ref: '#/components/schemas/Review'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Review'
        required: true
      responses:
        200:
          description: OK!
        422:
          description: validation error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    default: The team name must be a string. (and 4 more errors)
                  errors:
                    type: object
                    properties:
                      text:
                        type: array
                        items:
                          type: string
                          enum: [text is required]
                      score:
                        type: array
                        items:
                          type: string
                          enum: [score in required]
  /auth:
    post:
      tags:
        - Auth
      requestBody:
        description: get token
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                password:
                  type: string
        required: true
      responses:
        200:
          description: OK!
          content:
            application/json:
              schema:
                type: object
                properties:
                  token:
                    type: string
        422:
          description: validation error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    default: The team name must be a string. (and 4 more errors)
                  errors:
                    type: object
                    properties:
                      text:
                        type: array
                        items:
                          type: string
                          enum: [ text is required ]
                      score:
                        type: array
                        items:
                          type: string
                          enum: [ score in required ]
        403:
          description: incorrect password or login

components:
  securitySchemes:
    SanctumBearer:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    Review:
      type: object
      properties:
        inner_id:
          type: string
          description: id –æ—Ç–∑—ã–≤–∞ —Å–∞–º–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞, –ø–æ –Ω–µ–º—É –±—É–¥ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –æ—Ç–∑—ã–≤–∞
          example: 24092
        posted_at:
          type: string
          format: date-time
          description: –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–∑—ã–≤–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–∏—Å–∞
        brunch:
          type: string
          enum:
            - –°–≤–µ—Ä–¥–ª–æ–≤–∞
            - –ê—Ä—Å–∏–±
            - –°–æ–≤–µ—Ç—Å–∫–∞—è
            - –ö–∞–ª–∏–Ω–∫–∞
            - –ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–π
            - –ü–∞—Ä—É—Å
            - –û–∫–µ–∞–Ω
            - –í–∏–¥–Ω—ã–π
            - –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω—Å–∫–∏–π
            - –ì–∞–∑–ø—Ä–æ–º
            - –î—Ä–∞–º—Ç–µ–∞—Ç—Ä
            - –ü–∞–Ω–æ—Ä–∞–º–∞
            - –ù–æ–≤–∏–Ω
            - –ú–µ–ª—å–Ω–∏–∫–∞–π—Ç–µ
        score:
          type: integer
          example: 5
        text:
          type: string
          example: –º–µ—Å—Ç–æ —É—é—Ç–Ω–æ–µ,–∫–∞—Ç—è –º–∏–ª–∞—à–∫–∞ü§©
        sender:
          type: string
          description: —Å–æ–∑–¥–∞—Ç–µ–ª—å –æ—Ç–∑—ã–≤–∞
security:
  - SanctumBearer: []
