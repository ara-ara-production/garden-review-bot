import{J as f,j as e,S as r}from"./app-EqxQ18v-.js";import{N as p}from"./NavBar-BiRbYpPb.js";import{H as C}from"./Head-DOpiQSn-.js";import{C as y,R as x,a as m,A as g}from"./Alert-BjKffFDK.js";import{T as k,P as w,a as i,b as o}from"./PaginationLink-Dk54DwOX.js";import"./Progress-BDvrNG9M.js";const a="/build/assets/bstr-black-down-Y0mw1zr6.svg",d="/build/assets/bstr-black-up-Cd1HoMj5.svg",h="/build/assets/bstr-gray-down-DfwarobR.svg",u="/build/assets/bstr-gray-up-DjpVTJQl.svg",j={day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1},$=({paginator:n})=>{const{routes:_}=f().props,c="/"+_.review_table_prefix+"/"+_.review,v=window.location.search,s=new URLSearchParams(v);return e.jsxs(e.Fragment,{children:[e.jsx(C,{title:"Отзывы"}),e.jsx(p,{}),e.jsxs(y,{fluid:!0,children:[e.jsx(x,{className:"my-3",children:e.jsxs(m,{children:[e.jsx("h2",{children:"Отзывы"}),e.jsxs(g,{color:"info",children:["Всего записей: ",n.total]})]})}),e.jsx(x,{className:"small",children:e.jsx(m,{children:e.jsxs(k,{responsive:!0,size:"sm",hover:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-center",children:[e.jsx("th",{children:"#"}),e.jsxs("th",{className:"col-1",children:[e.jsx("div",{className:"mr-1",children:"Дата публикации отзыва"}),e.jsxs("div",{className:"d-flex justify-content-center align-items-center gap-2",children:[e.jsx("img",{src:s.get("column")==="posted_at"&&s.get("orderBy")==="ASC"?d:u,width:15,height:15,onClick:t=>{t.preventDefault(),r.visit(c+"?column=posted_at&orderBy=ASC")}}),e.jsx("img",{src:s.get("column")=="posted_at"&&s.get("orderBy")=="DESC"?a:h,width:15,height:15,onClick:t=>{t.preventDefault(),r.visit(c+"?column=posted_at&orderBy=DESC")}})]})]}),e.jsxs("th",{className:"col-1",children:[e.jsx("div",{children:"Дата начала проверки"}),e.jsxs("div",{className:"d-flex justify-content-center align-items-center gap-2",children:[e.jsx("img",{src:s.get("column")==="start_work_on"&&s.get("orderBy")==="ASC"?d:u,width:15,height:15,onClick:t=>{t.preventDefault(),r.visit(c+"?column=start_work_on&orderBy=ASC")}}),e.jsx("img",{src:s.get("column")==="start_work_on"&&s.get("orderBy")==="DESC"?a:h,width:15,height:15,onClick:t=>{t.preventDefault(),r.visit(c+"?column=start_work_on&orderBy=DESC")}})]})]}),e.jsxs("th",{className:"col-1",children:[e.jsx("div",{children:"Дата завершения проверки"}),e.jsxs("div",{className:"d-flex justify-content-center align-items-center gap-2",children:[e.jsx("img",{src:s.get("column")==="end_work_on"&&s.get("orderBy")==="ASC"?d:u,width:15,height:15,onClick:t=>{t.preventDefault(),r.visit(c+"?column=end_work_on&orderBy=ASC")}}),e.jsx("img",{src:s.get("column")==="end_work_on"&&s.get("orderBy")==="DESC"?a:h,width:15,height:15,onClick:t=>{t.preventDefault(),r.visit(c+"?column=end_work_on&orderBy=DESC")}})]})]}),e.jsx("th",{children:"Платформа"}),e.jsx("th",{children:"Филиал"}),e.jsxs("th",{children:[e.jsx("div",{children:"Текущий рейтинг"}),e.jsxs("div",{className:"d-flex justify-content-center align-items-center",children:[e.jsx("img",{src:s.get("column")==="total_brunch_rate"&&s.get("orderBy")==="ASC"?d:u,width:15,height:15,onClick:t=>{t.preventDefault(),r.visit(c+"?column=total_brunch_rate&orderBy=ASC")}}),e.jsx("img",{src:s.get("column")==="total_brunch_rate"&&s.get("orderBy")==="DESC"?a:h,width:15,height:15,onClick:t=>{t.preventDefault(),r.visit(c+"?column=total_brunch_rate&orderBy=DESC")}})]})]}),e.jsxs("th",{children:[e.jsx("div",{children:"Оценка"}),e.jsxs("div",{className:"d-flex justify-content-center align-items-center gap-2",children:[e.jsx("img",{src:s.get("column")==="score"&&s.get("orderBy")==="ASC"?d:u,width:15,height:15,onClick:t=>{t.preventDefault(),r.visit(c+"?column=score&orderBy=ASC")}}),e.jsx("img",{src:s.get("column")==="score"&&s.get("orderBy")==="DESC"?a:h,width:15,height:15,onClick:t=>{t.preventDefault(),r.visit(c+"?column=score&orderBy=DESC")}})]})]}),e.jsx("th",{className:"col-3",children:"Отзыв"}),e.jsx("th",{className:"col-3",children:"Комментарий управляющего"}),e.jsx("th",{className:"col-3",children:"Ответ SMM на платформе"})]})}),e.jsx("tbody",{children:n.data.map((t,l)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.review_id},`review_id-${l}`),e.jsx("td",{children:new Date(t.posted_at.replace(/Z$/,"")).toLocaleString("ru-RU",j)},`posted_at-${l}`),e.jsx("td",{children:t.start_work_on?new Date(t.start_work_on).toLocaleString("ru-RU",j):"-"},`start_work_on-${l}`),e.jsx("td",{children:t.end_work_on?new Date(t.end_work_on).toLocaleString("ru-RU",j):"-"},`end_work_on-${l}`),e.jsx("td",{children:t.resource.toUpperCase()},`resource-${l}`),e.jsx("td",{children:t.brunch_name},`brunch_name-${l}`),e.jsx("td",{className:"text-center",children:t.total_brunch_rate},`total_brunch_rate-${l}`),e.jsx("td",{className:"text-center",children:e.jsx(g,{color:t.score<=3?"danger":t.score==4?"warning":"success",children:t.score})},`score-${l}`),e.jsx("td",{children:t.comment},`comment-${l}`),e.jsx("td",{children:t.control_review},`control_review-${l}`),e.jsx("td",{children:t.final_answer},`final_answer-${l}`)]}))})]})})}),e.jsx(x,{children:e.jsx(m,{className:" d-flex justify-content-center",children:e.jsxs(w,{className:" d-flex justify-content-center gap-3",children:[e.jsx(i,{children:e.jsx(o,{first:!0,href:n.first_page_url,onClick:t=>{t.preventDefault(),r.visit(n.first_page_url)}})}),n.prev_page_url?e.jsx(i,{children:e.jsx(o,{previous:!0,href:n.prev_page_url,onClick:t=>{t.preventDefault(),r.visit(n.prev_page_url)}})}):null,n.links.slice(1,n.links.length-1).map(t=>e.jsxs(i,{disabled:!t.url,active:t.active,children:[e.jsx(o,{href:t.url,onClick:l=>{l.preventDefault(),r.visit(t.url)},children:t.label})," "]})),n.next_page_url?e.jsx(i,{children:e.jsx(o,{next:!0,href:n.next_page_url,onClick:t=>{t.preventDefault(),r.visit(n.next_page_url)}})}):null,e.jsx(i,{children:e.jsx(o,{last:!0,href:n.last_page_url,onClick:t=>{t.preventDefault(),r.visit(n.last_page_url)}})})]})})})]})]})};export{$ as default};
