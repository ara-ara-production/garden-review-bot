import{a as v,j as e,b as s}from"./app-CgCtdgeg.js";import{N as B}from"./NavBar-BOHFDfjK.js";import{H as f}from"./Head-BPHojOzv.js";import{C as p,R as m,a as g,A as _}from"./Alert-COWuk5X9.js";import{T as C,P as k,a as o,b as i}from"./PaginationLink-B8vfbStc.js";import"./Progress-C5njFPRq.js";const d="/build/assets/bstr-black-down-Y0mw1zr6.svg",a="/build/assets/bstr-black-up-Cd1HoMj5.svg",u="/build/assets/bstr-gray-down-DfwarobR.svg",h="/build/assets/bstr-gray-up-DjpVTJQl.svg",x={day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1},$=({paginator:n})=>{const{routes:j}=v().props,c="/"+j.review_table_prefix+"/"+j.review,y=window.location.search,r=new URLSearchParams(y);return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"Отзывы"}),e.jsx(B,{}),e.jsxs(p,{fluid:!0,children:[e.jsx(m,{className:"my-3",children:e.jsxs(g,{children:[e.jsx("h2",{children:"Отзывы"}),e.jsxs(_,{color:"info",children:["Всего записей: ",n.total]})]})}),e.jsx(m,{className:"small",children:e.jsx(g,{children:e.jsxs(C,{responsive:!0,size:"sm",hover:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-center",children:[e.jsx("th",{children:"#"}),e.jsxs("th",{className:"col-1",children:[e.jsx("div",{className:"mr-1",children:"Дата публикации отзыва"}),e.jsxs("div",{className:"d-flex justify-content-center align-items-center gap-2",children:[e.jsx("img",{src:r.get("column")==="posted_at"&&r.get("orderBy")==="ASC"?a:h,width:15,height:15,onClick:t=>{t.preventDefault(),s.visit(c+"?column=posted_at&orderBy=ASC")}}),e.jsx("img",{src:r.get("column")=="posted_at"&&r.get("orderBy")=="DESC"?d:u,width:15,height:15,onClick:t=>{t.preventDefault(),s.visit(c+"?column=posted_at&orderBy=DESC")}})]})]}),e.jsxs("th",{className:"col-1",children:[e.jsx("div",{children:"Дата начала проверки"}),e.jsxs("div",{className:"d-flex justify-content-center align-items-center gap-2",children:[e.jsx("img",{src:r.get("column")==="start_work_on"&&r.get("orderBy")==="ASC"?a:h,width:15,height:15,onClick:t=>{t.preventDefault(),s.visit(c+"?column=start_work_on&orderBy=ASC")}}),e.jsx("img",{src:r.get("column")==="start_work_on"&&r.get("orderBy")==="DESC"?d:u,width:15,height:15,onClick:t=>{t.preventDefault(),s.visit(c+"?column=start_work_on&orderBy=DESC")}})]})]}),e.jsxs("th",{className:"col-1",children:[e.jsx("div",{children:"Дата завершения проверки"}),e.jsxs("div",{className:"d-flex justify-content-center align-items-center gap-2",children:[e.jsx("img",{src:r.get("column")==="end_work_on"&&r.get("orderBy")==="ASC"?a:h,width:15,height:15,onClick:t=>{t.preventDefault(),s.visit(c+"?column=end_work_on&orderBy=ASC")}}),e.jsx("img",{src:r.get("column")==="end_work_on"&&r.get("orderBy")==="DESC"?d:u,width:15,height:15,onClick:t=>{t.preventDefault(),s.visit(c+"?column=end_work_on&orderBy=DESC")}})]})]}),e.jsx("th",{children:"Платформа"}),e.jsx("th",{children:"Филиал"}),e.jsxs("th",{children:[e.jsx("div",{children:"Текущий рейтинг"}),e.jsxs("div",{className:"d-flex justify-content-center align-items-center",children:[e.jsx("img",{src:r.get("column")==="total_brunch_rate"&&r.get("orderBy")==="ASC"?a:h,width:15,height:15,onClick:t=>{t.preventDefault(),s.visit(c+"?column=total_brunch_rate&orderBy=ASC")}}),e.jsx("img",{src:r.get("column")==="total_brunch_rate"&&r.get("orderBy")==="DESC"?d:u,width:15,height:15,onClick:t=>{t.preventDefault(),s.visit(c+"?column=total_brunch_rate&orderBy=DESC")}})]})]}),e.jsxs("th",{children:[e.jsx("div",{children:"Оценка"}),e.jsxs("div",{className:"d-flex justify-content-center align-items-center gap-2",children:[e.jsx("img",{src:r.get("column")==="score"&&r.get("orderBy")==="ASC"?a:h,width:15,height:15,onClick:t=>{t.preventDefault(),s.visit(c+"?column=score&orderBy=ASC")}}),e.jsx("img",{src:r.get("column")==="score"&&r.get("orderBy")==="DESC"?d:u,width:15,height:15,onClick:t=>{t.preventDefault(),s.visit(c+"?column=score&orderBy=DESC")}})]})]}),e.jsx("th",{className:"col-3",children:"Отзыв"}),e.jsx("th",{className:"col-3",children:"Комментарий управляющего"}),e.jsx("th",{className:"col-3",children:"Ответ SMM на платформе"})]})}),e.jsx("tbody",{children:n.data.map((t,l)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.review_id},`review_id-${l}`),e.jsx("td",{children:new Date(t.posted_at.replace(/Z$/,"")).toLocaleString("ru-RU",x)},`posted_at-${l}`),e.jsx("td",{children:t.start_work_on?new Date(t.start_work_on).toLocaleString("ru-RU",x):"-"},`start_work_on-${l}`),e.jsx("td",{children:t.end_work_on?new Date(t.end_work_on).toLocaleString("ru-RU",x):"-"},`end_work_on-${l}`),e.jsx("td",{children:t.resource.toUpperCase()},`resource-${l}`),e.jsx("td",{children:t.brunch_name},`brunch_name-${l}`),e.jsx("td",{className:"text-center",children:t.total_brunch_rate},`total_brunch_rate-${l}`),e.jsx("td",{className:"text-center",children:e.jsx(_,{color:t.score<=3?"danger":t.score==4?"warning":"success",children:t.score})},`score-${l}`),e.jsx("td",{children:t.comment},`comment-${l}`),e.jsx("td",{children:t.control_review},`control_review-${l}`),e.jsx("td",{children:t.final_answer},`final_answer-${l}`)]}))})]})})}),e.jsx(m,{children:e.jsx(g,{className:" d-flex justify-content-center",children:e.jsxs(k,{className:" d-flex justify-content-center gap-3",children:[e.jsx(o,{children:e.jsx(i,{first:!0,href:n.first_page_url+(r.get("column")?"&column="+r.get("column"):"")+(r.get("orderBy")?"&orderBy="+r.get("orderBy"):""),onClick:t=>{t.preventDefault(),s.visit(n.first_page_url+(r.get("column")?"&column="+r.get("column"):"")+(r.get("orderBy")?"&orderBy="+r.get("orderBy"):""))}})}),n.prev_page_url?e.jsx(o,{children:e.jsx(i,{previous:!0,href:n.prev_page_url+(r.get("column")?"&column="+r.get("column"):"")+(r.get("orderBy")?"&orderBy="+r.get("orderBy"):""),onClick:t=>{t.preventDefault(),s.visit(n.prev_page_url+(r.get("column")?"&column="+r.get("column"):"")+(r.get("orderBy")?"&orderBy="+r.get("orderBy"):""))}})}):null,n.links.slice(1,n.links.length-1).map(t=>e.jsxs(o,{disabled:!t.url,active:t.active,children:[e.jsx(i,{href:t.url+(r.get("column")?"&column="+r.get("column"):"")+(r.get("orderBy")?"&orderBy="+r.get("orderBy"):""),onClick:l=>{l.preventDefault(),s.visit(t.url+(r.get("column")?"&column="+r.get("column"):"")+(r.get("orderBy")?"&orderBy="+r.get("orderBy"):""))},children:t.label})," "]})),n.next_page_url?e.jsx(o,{children:e.jsx(i,{next:!0,href:n.next_page_url+(r.get("column")?"&column="+r.get("column"):"")+(r.get("orderBy")?"&orderBy="+r.get("orderBy"):""),onClick:t=>{t.preventDefault(),s.visit(n.next_page_url+(r.get("column")?"&column="+r.get("column"):"")+(r.get("orderBy")?"&orderBy="+r.get("orderBy"):""))}})}):null,e.jsx(o,{children:e.jsx(i,{last:!0,href:n.last_page_url+(r.get("column")?"&column="+r.get("column"):"")+(r.get("orderBy")?"&orderBy="+r.get("orderBy"):""),onClick:t=>{t.preventDefault(),s.visit(n.last_page_url+(r.get("column")?"&column="+r.get("column"):"")+(r.get("orderBy")?"&orderBy="+r.get("orderBy"):""))}})})]})})})]})]})};export{$ as default};
